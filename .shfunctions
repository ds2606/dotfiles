# ZSH FUNCTIONS

# toggle desktop icons
tdi() {
	val=$(defaults read com.apple.finder CreateDesktop)
	if [ "$val" = "0" ]
		then
			defaults write com.apple.finder CreateDesktop 1
			echo ds icons on
		else
			defaults write com.apple.finder CreateDesktop 0
			echo ds icons off
		fi
	killall Finder
}

# creates a new terminal window
new() {
	if [ $# -eq 0 ]
		then
			open -a "Terminal" "$PWD"
		else
			open -a "Terminal" "$@"
	fi
}

# mkdir and cd into it
mcd() {
	if [ $# -eq 1 ]
		then
			mkdir -p "$1"
			cd "$1"
		else
			echo 'usage: mcd [dir path]'
	fi
}

# jump straight to a man page flag
mfl () {
    LESS=+/^[[:blank:]]+"$2" man "$1"
}

# switch workspace
spc() {
	if [[ "$#" -ne 1 ]]; then
		echo "usage: space [ARG]"
		return 1
	fi

	local bg="/Users/dschreck/Pictures/backgrounds/"
	case $1 in
		"41")
			bg+="lights.jpg"
			;;
		"231n")
			bg+="garden.jpg"
			;;
		"124")
			bg+="stars.jpg"
			;;
		"110")
			bg+="swirl.jpg"
			;;
		*)
			echo "space not recognized"
			return 1
			;;
	esac
    osascript -e "tell application \"Finder\" to set desktop picture to POSIX file \"$bg\""
}
